from telnetlib import Telnet

n = 24714368843752022974341211877467549639498231894964810269117413322029642752633577038705218673687716926448339400096802361297693998979745765931534103202467338384642921856548086360244485671986927177008440715178336399465697444026353230451518999567214983427406178161356304710292306078130635844316053709563154657103495905205276956218906137150310994293077448766114520034675696741058748420135888856866161554417709555214430301224863490074059065870222171272131856991865315097313467644895025929047477332550027963804064961056274499899920572740781443106554154096194288807134535706752546520058150115125502989328782055006169368495301
e = 65537

def read_list(tn):
    tn.read_until(b': [')
    lst = tn.read_until(b']')[:-1].split(b', ')
    return [int(n.decode()) for n in lst]

with Telnet('54.159.113.26', 19001) as tn:
    x = read_list(tn)
    print('x:', x)
    v = max(x)
    tn.write((str(v) + '\n').encode())

    m = read_list(tn)
    print('m:', m)

    tn.read_some()
    for i in range(6):
        for ans in range(4096):
            if pow(m[i] - ans, e, n) == v - x[i]:
                tn.write((str(ans) + '\n').encode())
                print("ANS", ans)
                break
    tn.interact()  # actf{no_more_free_oblivious_transfers}
